<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cute Cat Chasing Mouse</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #ffeedd; /* soft pastel background */
    cursor: default;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>

<canvas id="catCanvas"></canvas>

<script>
const canvas = document.getElementById('catCanvas');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Smooth virtual mouse movement
let virtualMouse = {
  x: canvas.width/2,
  y: canvas.height/2,
  vx: 1 + Math.random()*2,
  vy: 1 + Math.random()*2
};

// Cat object
let cat = { x: canvas.width/2, y: canvas.height/2, angle: 0 };

// Sparkle particles
let sparkles = [];

// Update mouse with smooth movement
function updateVirtualMouse() {
  virtualMouse.vx += (Math.random() - 0.5) * 0.2; 
  virtualMouse.vy += (Math.random() - 0.5) * 0.2;

  const maxSpeed = 3;
  virtualMouse.vx = Math.max(Math.min(virtualMouse.vx, maxSpeed), -maxSpeed);
  virtualMouse.vy = Math.max(Math.min(virtualMouse.vy, maxSpeed), -maxSpeed);

  virtualMouse.x += virtualMouse.vx;
  virtualMouse.y += virtualMouse.vy;

  // Bounce off edges
  if (virtualMouse.x < 0) { virtualMouse.x = 0; virtualMouse.vx *= -1; }
  if (virtualMouse.x > canvas.width) { virtualMouse.x = canvas.width; virtualMouse.vx *= -1; }
  if (virtualMouse.y < 0) { virtualMouse.y = 0; virtualMouse.vy *= -1; }
  if (virtualMouse.y > canvas.height) { virtualMouse.y = canvas.height; virtualMouse.vy *= -1; }
}

// Draw mouse
function drawVirtualMouse() {
  ctx.fillStyle = "#ffaaaa";
  ctx.beginPath();
  ctx.arc(virtualMouse.x, virtualMouse.y, 6, 0, Math.PI*2);
  ctx.fill();
}

// Draw cat
function drawCat(x, y, angle, tailSwing, earTwitch) {
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(angle);

  // Cat body
  ctx.fillStyle = "#cccccc"; 
  ctx.beginPath();
  ctx.ellipse(0, 0, 35, 20, 0, 0, Math.PI*2);
  ctx.fill();

  // Cat head
  ctx.beginPath();
  ctx.arc(45, 0, 15, 0, Math.PI*2);
  ctx.fill();

  // Eyes
  let headX = x + Math.cos(angle) * 45;
  let headY = y + Math.sin(angle) * 45;
  let dx = virtualMouse.x - headX;
  let dy = virtualMouse.y - headY;
  let eyeAngle = Math.atan2(dy, dx);
  let eyeDistance = Math.min(Math.hypot(dx, dy)/15, 4);

  ctx.fillStyle = "#ffffff";
  ctx.beginPath();
  ctx.arc(50 + Math.cos(eyeAngle)*eyeDistance, -5 + Math.sin(eyeAngle)*eyeDistance, 5, 0, Math.PI*2);
  ctx.fill();
  ctx.beginPath();
  ctx.arc(50 + Math.cos(eyeAngle)*eyeDistance, 5 + Math.sin(eyeAngle)*eyeDistance, 5, 0, Math.PI*2);
  ctx.fill();

  // Pupils
  ctx.fillStyle = "#000000";
  ctx.beginPath();
  ctx.arc(50 + Math.cos(eyeAngle)*eyeDistance, -5 + Math.sin(eyeAngle)*eyeDistance, 2, 0, Math.PI*2);
  ctx.fill();
  ctx.beginPath();
  ctx.arc(50 + Math.cos(eyeAngle)*eyeDistance, 5 + Math.sin(eyeAngle)*eyeDistance, 2, 0, Math.PI*2);
  ctx.fill();

  // Ears
  ctx.fillStyle = "#ffcccc";
  ctx.beginPath();
  ctx.moveTo(52, -7 + earTwitch);
  ctx.lineTo(58, -18 + earTwitch);
  ctx.lineTo(48, -12 + earTwitch);
  ctx.closePath();
  ctx.fill();

  ctx.beginPath();
  ctx.moveTo(52, 7 - earTwitch);
  ctx.lineTo(58, 18 - earTwitch);
  ctx.lineTo(48, 12 - earTwitch);
  ctx.closePath();
  ctx.fill();

  // Tail
  ctx.strokeStyle = "#ffcccc";
  ctx.lineWidth = 5;
  ctx.beginPath();
  ctx.moveTo(-40, 0);
  ctx.lineTo(-70, -10 + tailSwing);
  ctx.stroke();

  // Tail sparkles
  let tailTipX = x + (-70)*Math.cos(angle) - (-10 + tailSwing)*Math.sin(angle);
  let tailTipY = y + (-70)*Math.sin(angle) + (-10 + tailSwing)*Math.cos(angle);
  if (Math.random() < 0.4) {
    sparkles.push({
      x: tailTipX,
      y: tailTipY,
      radius: Math.random()*2 + 1,
      alpha: 1,
      decay: Math.random()*0.02 + 0.01,
      color: `hsl(${Math.random()*360}, 80%, 70%)`
    });
  }

  ctx.restore();
}

// Draw sparkles
function drawSparkles() {
  for (let i = sparkles.length-1; i>=0; i--) {
    let s = sparkles[i];
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.radius, 0, Math.PI*2);
    ctx.fillStyle = `rgba(${s.color ? s.color : '255,255,200'},${s.alpha})`;
    ctx.fill();
    s.alpha -= s.decay;
    if (s.alpha <= 0) sparkles.splice(i,1);
  }
}

// Animation variables
let tailDirection = 1;
let tailAngle = 0;
let earTwitch = 0;
let twitchDirection = 1;

// Animation loop
function animate() {
  ctx.fillStyle = "rgba(255,238,221,0.3)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  updateVirtualMouse();
  drawVirtualMouse();

  // Cat follows mouse slowly
  let dx = virtualMouse.x - cat.x;
  let dy = virtualMouse.y - cat.y;
  cat.x += dx * 0.05;
  cat.y += dy * 0.05;
  cat.angle = Math.atan2(dy, dx);

  // Tail and ear animation
  tailAngle += 0.1 * tailDirection;
  if (tailAngle > 10 || tailAngle < -10) tailDirection *= -1;
  earTwitch += 0.2 * twitchDirection;
  if (earTwitch > 3 || earTwitch < -3) twitchDirection *= -1;

  drawCat(cat.x, cat.y, cat.angle, tailAngle, earTwitch);
  drawSparkles();

  requestAnimationFrame(animate);
}

animate();

// Handle resize
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>
